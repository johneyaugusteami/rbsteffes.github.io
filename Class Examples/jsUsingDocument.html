<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
    </head>
    <body>
        <main>
        </main>

        <script>
            // Global variables
            let myElements = [];
            const MY_WINDOW_HEIGHT = 500;
            let boolLTR = true, boolTTB = true;
            

            function createNewBall(startTop, startLeft, color)
            {

                var mainElement = document.querySelector("main");
                if(mainElement == null)
                    {
                        alert("Failure!");
                    }
                var newElement = document.createElement('div');

                mainElement.style.width = MY_WINDOW_HEIGHT + "px";
                mainElement.style.backgroundColor = "lightblue";
                mainElement.style.height = MY_WINDOW_HEIGHT + "px";

                newElement.style.position = "absolute";
                newElement.style.top =  startTop + "px";
                newElement.style.left = startLeft + "px";
                newElement.style.width= "35px";
                newElement.style.height= "35px";
                newElement.style.backgroundColor = color;
                newElement.style.borderRadius = "50%";

                var newImage  = document.createElement('img');
                newImage.src = "../images/wt-torch.png";
                newImage.style.display = "block";
                newImage.style.width="35px";
                newImage.style.height="auto";

                //newElement.appendChild(newImage);


                //Eventually elements
                mainElement.appendChild(newElement);
                myElements.push(newElement);
            }

            function changeMyElements()
            {
                // change something here
                myElements.forEach( element => {
                    var myLeft = parseFloat(element.style.left);
                    var myTop = parseFloat(element.style.top);

                    myLeft += (boolLTR)? 10:-10;
                    myTop += (boolTTB)? 10:-10;

                    // Flip direction
                    if(myLeft >= MY_WINDOW_HEIGHT || 
                        myLeft <= 0){
                        boolLTR = !boolLTR;
                    }

                    // Flip direction
                    if(myTop >= MY_WINDOW_HEIGHT ||
                        myTop <= 0){
                        boolTTB = !boolTTB;
                    }

                    element.style.left = myLeft +"px";
                    element.style.top = myTop +"px";

                } );

                window.requestAnimationFrame(changeMyElements);
            }
            
            //Starting functions
            ( function(){
                
                createNewBall(105, 105, "blue");

                window.requestAnimationFrame(changeMyElements);

            })();
            

        </script>
    </body>
</html>